Express è·¯ç”±æ¨¡å—åŒ–æ˜¯å®é™…å¼€å‘ä¸­éå¸¸é‡è¦çš„ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥è®©ä½ çš„é¡¹ç›®ç»“æ„æ›´æ¸…æ™°ã€ç»´æŠ¤æ›´æ–¹ä¾¿ã€‚
---

## ğŸ§± ä¸€ã€ä¸ºä»€ä¹ˆè¦æ¨¡å—åŒ–ï¼Ÿ

éšç€é¡¹ç›®å˜å¤§ï¼Œå¦‚æœæ‰€æœ‰è·¯ç”±éƒ½å†™åœ¨ `app.js` ä¸­ï¼Œä¼šå¾ˆä¹±ã€‚ä½¿ç”¨æ¨¡å—åŒ–åå¯ä»¥ï¼š

- **åŠŸèƒ½è§£è€¦**ï¼šæ¯ä¸ªæ¨¡å—ç®¡ç†è‡ªå·±çš„è·¯ç”±ã€‚
- **å¯ç»´æŠ¤æ€§å¼º**ï¼šæŒ‰ä¸šåŠ¡æ‹†åˆ†æ–‡ä»¶ç»“æ„ã€‚
- **åˆ©äºå¤šäººåä½œ**ï¼šå¤šäººå¼€å‘äº’ä¸å¹²æ‰°ã€‚

---

## ğŸ“ äºŒã€ç›®å½•ç»“æ„ç¤ºä¾‹

```
project/
â”œâ”€â”€ app.js
â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ index.js
â”‚   â””â”€â”€ user.js
```

---

## ğŸ› ï¸ ä¸‰ã€æ­¥éª¤è®²è§£

### 1ï¸âƒ£ åˆ›å»ºè·¯ç”±æ¨¡å—ï¼š`routes/user.js`

```js
const express = require('express');
const router = express.Router();

// ç”¨æˆ·ç›¸å…³è·¯ç”±
router.get('/', (req, res) => {
  res.send('ç”¨æˆ·é¦–é¡µ');
});

router.get('/:id', (req, res) => {
  res.send(`è·å–ç”¨æˆ· IDï¼š${req.params.id}`);
});

module.exports = router;
```

---

### 2ï¸âƒ£ åˆ›å»ºä¸»è·¯ç”±æ–‡ä»¶ï¼š`routes/index.js`

ä½ ä¹Ÿå¯ä»¥ç»Ÿä¸€å¯¼å‡ºå¤šä¸ªå­è·¯ç”±æ¨¡å—ï¼ˆå¯é€‰åšæ³•ï¼‰ï¼š
```js
const express = require('express');
const router = express.Router();

router.get('/', (req, res) => {
  res.send('é¦–é¡µ');
});

module.exports = router;
```

---

### 3ï¸âƒ£ åœ¨ä¸»ç¨‹åºä¸­å¼•å…¥ä½¿ç”¨ï¼š`app.js`

```js
const express = require('express');
const app = express();
const port = 3000;

// å¼•å…¥è·¯ç”±æ¨¡å—
const indexRouter = require('./routes/index');
const userRouter = require('./routes/user');

// æŒ‚è½½è·¯ç”±
app.use('/', indexRouter);         // è®¿é—® http://localhost:3000/
app.use('/user', userRouter);      // è®¿é—® http://localhost:3000/user

app.listen(port, () => {
  console.log(`Server running at http://localhost:${port}`);
});
```

---

## âœ… å››ã€è®¿é—®ç¤ºä¾‹

| è·¯å¾„                     | å“åº”å†…å®¹             |
|--------------------------|----------------------|
| `GET /`                  | é¦–é¡µ                 |
| `GET /user`              | ç”¨æˆ·é¦–é¡µ             |
| `GET /user/1001`         | è·å–ç”¨æˆ· IDï¼š1001   |

---

## ğŸ“Œ äº”ã€æ¨¡å—åŒ–å°æŠ€å·§

| åšæ³•                    | å¥½å¤„                    |
|-------------------------|-------------------------|
| ä¸€ä¸ªæ¨¡å—ä¸€ä¸ªè·¯ç”±æ–‡ä»¶    | æ¸…æ™°è§£è€¦                |
| ä½¿ç”¨ `express.Router()` | æ”¯æŒä¸­é—´ä»¶åµŒå¥—å’Œå­è·¯ç”±  |
| æå–å…¬å…±ä¸­é—´ä»¶          | æé«˜å¤ç”¨æ€§              |
| ä½¿ç”¨ `routes/index.js` æ€»å…¥å£ | ç»Ÿä¸€æŒ‚è½½æ›´æ•´æ´ |

---

## ğŸ§© å…­ã€è¿›é˜¶å°è£…å»ºè®®ï¼ˆå¯é€‰ï¼‰

ä½ å¯ä»¥å°è£…ä¸€ä¸ª `registerRoutes(app)` å‡½æ•°ä¸“é—¨æ³¨å†Œæ‰€æœ‰è·¯ç”±ï¼Œç±»ä¼¼äºä¸­å¤§å‹é¡¹ç›®çš„åšæ³•ï¼š

```js
// router/index.js
module.exports = (app) => {
  app.use('/', require('./index'));
  app.use('/user', require('./user'));
};
```

```js
// app.js
require('./routes')(app);
```

---