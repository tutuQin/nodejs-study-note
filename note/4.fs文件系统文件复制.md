Node.js **æ–‡ä»¶è¯»å–ä¸å¤åˆ¶ç›¸å…³å†…å®¹**çš„ç³»ç»Ÿæ€»ç»“ï¼ŒåŒ…æ‹¬ **åŒæ­¥è¯»å–ã€å¼‚æ­¥è¯»å–ã€æµå¼è¯»å–ã€å¤åˆ¶æ“ä½œã€ä¸¤è€…å¯¹æ¯”åŠå†…å­˜æµ‹è¯•**ã€‚

---

## ğŸ§© ä¸€ã€Node.js æ–‡ä»¶è¯»å–æ–¹å¼æ€»ç»“

Node.js ä½¿ç”¨ `fs`ï¼ˆæ–‡ä»¶ç³»ç»Ÿï¼‰æ¨¡å—è¿›è¡Œæ–‡ä»¶æ“ä½œï¼š

### 1. åŒæ­¥è¯»å–ï¼ˆBlockingï¼‰
```js
const fs = require('fs');
const data = fs.readFileSync('file.txt', 'utf-8');
console.log(data);
```

- âœ… ä¼˜ç‚¹ï¼šé€»è¾‘ç®€å•ï¼Œé€‚åˆåˆå§‹åŒ–é…ç½®ã€å‘½ä»¤è¡Œå·¥å…·ç­‰æ— éœ€å¹¶å‘åœºæ™¯ã€‚
- âŒ ç¼ºç‚¹ï¼š**é˜»å¡çº¿ç¨‹**ï¼Œè¯»å–å¤§æ–‡ä»¶ä¼šå¡ä½æ•´ä¸ªåº”ç”¨ã€‚
å½“ç„¶å¯ä»¥ï¼ä¸‹é¢æ˜¯ä¸€ä¸ª**ä½¿ç”¨ Node.js åŒæ­¥æ–¹å¼è¿›è¡Œæ–‡ä»¶å¤åˆ¶**çš„å®Œæ•´ä¾‹å­ï¼Œ**å…ˆåŒæ­¥è¯»å–æ–‡ä»¶å†…å®¹ï¼Œå†åŒæ­¥å†™å…¥åˆ°ç›®æ ‡æ–‡ä»¶**ã€‚

---

## ğŸ§© ç¤ºä¾‹ï¼šä½¿ç”¨ `fs.readFileSync` + `fs.writeFileSync` å®ç°æ–‡ä»¶å¤åˆ¶

```js
const fs = require('fs');

try {
  // åŒæ­¥è¯»å–æºæ–‡ä»¶å†…å®¹
  const data = fs.readFileSync('source.txt', 'utf-8');

  // åŒæ­¥å†™å…¥åˆ°ç›®æ ‡æ–‡ä»¶
  fs.writeFileSync('target.txt', data);

  console.log('æ–‡ä»¶å¤åˆ¶æˆåŠŸ âœ…');
} catch (err) {
  console.error('å¤åˆ¶å¤±è´¥ âŒ', err);
}
```

---

## ğŸ” è¯´æ˜ï¼š

- `fs.readFileSync(path, encoding)`ï¼šé˜»å¡æ–¹å¼è¯»å–æ–‡ä»¶å†…å®¹
- `fs.writeFileSync(path, data)`ï¼šé˜»å¡æ–¹å¼å°†å†…å®¹å†™å…¥æ–‡ä»¶
- é€‚åˆå°å‹æ–‡æœ¬æ–‡ä»¶å¤åˆ¶ï¼ˆä¾‹å¦‚ï¼šé…ç½®æ–‡ä»¶ã€æ—¥å¿—ç­‰ï¼‰

---

## ğŸš« æ³¨æ„ï¼š

- **ä¼šé˜»å¡äº‹ä»¶å¾ªç¯**ï¼Œè‹¥æ–‡ä»¶å¤§æˆ–å¤åˆ¶é¢‘ç¹ï¼Œä¸é€‚åˆç”¨åœ¨æœåŠ¡ç«¯ç”Ÿäº§ç¯å¢ƒã€‚
- å¤§æ–‡ä»¶å»ºè®®ä½¿ç”¨æµå¼å¤åˆ¶æ–¹å¼ã€‚

---

### 2. å¼‚æ­¥è¯»å–ï¼ˆNon-blockingï¼‰
```js
const fs = require('fs');
fs.readFile('file.txt', 'utf-8', (err, data) => {
  if (err) throw err;
  console.log(data);
});
```

- âœ… ä¼˜ç‚¹ï¼š**éé˜»å¡ã€é€‚åˆé«˜å¹¶å‘**ï¼Œä¸ä¼šå¡ä½ä¸»çº¿ç¨‹ã€‚
- âŒ ç¼ºç‚¹ï¼šé€»è¾‘è¾ƒå¤æ‚ï¼Œéœ€ä½¿ç”¨å›è°ƒã€Promise æˆ– async/awaitã€‚

---

### 3. æµå¼è¯»å–ï¼ˆStreamï¼‰
```js
const fs = require('fs');
const readStream = fs.createReadStream('file.txt', 'utf-8');

readStream.on('data', chunk => {
  console.log('è¯»å–å—:', chunk);
});

readStream.on('end', () => {
  console.log('è¯»å–å®Œæˆ');
});
```

- âœ… ä¼˜ç‚¹ï¼š**é€‚åˆè¯»å–å¤§æ–‡ä»¶ã€ä½å†…å­˜æ¶ˆè€—**
- âŒ ç¼ºç‚¹ï¼šå®ç°å¤æ‚ï¼Œå¤„ç†é€»è¾‘éœ€åˆ†å—å¤„ç†ã€‚

---

## ğŸ§ª äºŒã€è¯»å–åœºæ™¯å¯¹æ¯”

| æ–¹å¼        | é€‚åˆåœºæ™¯                  | ç‰¹ç‚¹             |
|-------------|---------------------------|------------------|
| åŒæ­¥è¯»å–    | å°æ–‡ä»¶ã€æœ¬åœ° CLI å·¥å…·ç­‰   | ç®€å•ï¼Œé˜»å¡çº¿ç¨‹   |
| å¼‚æ­¥è¯»å–    | Web æœåŠ¡ã€æ–‡ä»¶ä¸Šä¼         | éé˜»å¡ï¼Œé«˜æ€§èƒ½   |
| æµå¼è¯»å–    | è§†é¢‘ã€å¤§å‹æ—¥å¿—ã€å¤‡ä»½ç­‰    | èŠ‚çœå†…å­˜ï¼Œåˆ†å—   |

---

## ğŸ“ ä¸‰ã€Node.js æ–‡ä»¶å¤åˆ¶æ–¹å¼

### 1. åŒæ­¥å¤åˆ¶
```js
const fs = require('fs');
fs.copyFileSync('source.txt', 'target.txt');
```

- âœ… ç®€å•ï¼Œé€‚åˆå°‘é‡å°æ–‡ä»¶ã€‚
- âŒ é˜»å¡çº¿ç¨‹ï¼Œå¤§é‡å¹¶å‘æ—¶ä¸å¯ç”¨ã€‚

---

### 2. æµå¼å¤åˆ¶ï¼ˆæ¨èï¼‰
```js
const fs = require('fs');
const readStream = fs.createReadStream('source.txt');
const writeStream = fs.createWriteStream('target.txt');

readStream.pipe(writeStream);
```

- âœ… éé˜»å¡ï¼Œ**é€‚åˆå¤§æ–‡ä»¶**ã€‚
- âœ… è¾¹è¯»è¾¹å†™ï¼Œ**å†…å­˜å ç”¨ä½**ã€‚
- âŒ æ— æ³•è½»æ¾æ§åˆ¶å¤åˆ¶è¿›åº¦æˆ–ä¸­æ–­ã€‚

---

## âš–ï¸ å››ã€å¤åˆ¶æ–¹å¼å¯¹æ¯”

| æ–¹æ³•       | å†…å­˜å ç”¨ | æ€§èƒ½ | ä½¿ç”¨åœºæ™¯         |
|------------|----------|------|------------------|
| åŒæ­¥å¤åˆ¶   | é«˜       | ä½   | å°å‹é¡¹ç›®ã€å·¥å…·ç±» |
| æµå¼å¤åˆ¶   | ä½       | é«˜   | æœåŠ¡ç«¯ã€å¤§æ–‡ä»¶   |

---

## ğŸ“Š äº”ã€å†…å­˜å ç”¨æµ‹è¯•ç¤ºä¾‹

å¯ä»¥é€šè¿‡ `process.memoryUsage()` æŸ¥çœ‹ Node.js å†…å­˜ä½¿ç”¨ï¼š

```js
console.log(process.memoryUsage());
```

ç¤ºä¾‹ï¼šå¯¹æ¯”è¯»å–ä¸€ä¸ª 500MB æ–‡ä»¶æ—¶çš„å†…å­˜å˜åŒ–ï¼š

```js
// æµå¼è¯»å–å†…å­˜è¾ƒä½
const stream = fs.createReadStream('bigfile.txt');
stream.on('data', chunk => {
  console.log(process.memoryUsage().heapUsed);
});

// readFileSync è¯»å–æ•´ä¸ªæ–‡ä»¶å ç”¨å¤§
const content = fs.readFileSync('bigfile.txt');
console.log(process.memoryUsage().heapUsed);
```

---

## ğŸ§  æ€»ç»“é‡ç‚¹

| åŠŸèƒ½       | åŒæ­¥       | å¼‚æ­¥       | æµå¼       |
|------------|------------|------------|------------|
| é˜»å¡       | âœ… æ˜¯       | âŒ å¦       | âŒ å¦       |
| å†…å­˜æ¶ˆè€—   | âŒ é«˜       | âš ï¸ ä¸­       | âœ… ä½       |
| å®ç°å¤æ‚åº¦ | âœ… ç®€å•     | âš ï¸ ä¸­ç­‰     | âŒ é«˜       |
| é€‚åˆåœºæ™¯   | å¯åŠ¨ã€å·¥å…· | Web æœåŠ¡   | å¤§æ–‡ä»¶å¤„ç† |

---
